function [y, T, residual, g1] = dynamic_4(y, x, params, steady_state, sparse_rowval, sparse_colval, sparse_colptr, T)
residual=NaN(14, 1);
  residual(1)=(y(27))-(params(7)/(1-y(26))*(y(21)-params(39)*y(2))/(1-params(39)));
  T(1)=y(37)*y(6)^params(8);
  T(2)=y(26)^(1-params(8));
  residual(2)=(y(34))-(T(1)*T(2));
  residual(3)=(y(29))-(y(30)*(1-y(35))-y(38));
  residual(4)=(y(30))-(y(25)*params(4)*y(47)/y(51)-y(26)*y(27)*params(5));
  residual(5)=(y(24)+y(25))-(1);
  residual(6)=(y(35))-(params(33)*(y(30)/y(34)/(params(28)/params(32)))^params(12));
  residual(7)=(1)-(params(1)*(y(21)-params(39)*y(2))/(y(40)-y(21)*params(39))*y(31));
  residual(8)=(y(21)+y(29)+y(28)*(y(24)-y(5)))-(y(27)*y(26)+y(12)*y(10));
  T(3)=(y(30)-y(11))^2;
  residual(9)=(y(27)*y(26)+y(22)+y(28)*(y(25)-y(6))+y(32)*y(11)+params(37)/(2*params(28))*T(3))-(y(30)+y(34));
  residual(10)=(1-(1-y(35))+(y(30)-y(11))*params(38)/params(28))-(params(3)*(y(23)-params(39)*y(4))/(y(42)-params(39)*y(23))*(y(51)-y(31)*(1-y(35))));
  residual(11)=(y(28))-(params(6)*y(36)*(y(21)-params(39)*y(2))/(y(24)*(1-params(39)))+params(1)*(y(21)-params(39)*y(2))/(y(40)-y(21)*params(39))*y(47));
  T(4)=params(2)*(y(22)-params(39)*y(3))/(y(41)-params(39)*y(22));
  residual(12)=(y(28))-(params(4)*y(47)/y(51)+T(4)*(params(8)*y(53)/y(25)+y(47)*(1-params(4)))-(y(30)-y(11))*y(47)/y(51)*params(4)*params(37)/params(28));
  residual(13)=(y(34)*(1-params(8)))-(y(27)*y(26)*(1+params(5)*(1-y(51)*T(4))));
  residual(14)=(y(30)+y(12)*y(10)+y(23)+T(3)*params(38)/(2*params(28)))-(y(29)+y(32)*y(11));
  T(5)=getPowerDeriv(y(30)/y(34)/(params(28)/params(32)),params(12),1);
if nargout > 3
    g1_v = NaN(82, 1);
g1_v(1)=(-(T(2)*y(37)*getPowerDeriv(y(6),params(8),1)));
g1_v(2)=(-y(28));
g1_v(3)=(-y(28));
g1_v(4)=y(32)+params(37)/(2*params(28))*(-(2*(y(30)-y(11))));
g1_v(5)=(-(params(38)/params(28)));
g1_v(6)=(-(y(47)/y(51)*params(4)*params(37)/params(28)));
g1_v(7)=params(38)/(2*params(28))*(-(2*(y(30)-y(11))))-y(32);
g1_v(8)=(-y(10));
g1_v(9)=y(10);
g1_v(10)=(-y(12));
g1_v(11)=y(12);
g1_v(12)=(-((params(8)*y(53)/y(25)+y(47)*(1-params(4)))*params(2)*(-params(39))/(y(41)-params(39)*y(22))));
g1_v(13)=(-(y(27)*y(26)*params(5)*(-(y(51)*params(2)*(-params(39))/(y(41)-params(39)*y(22))))));
g1_v(14)=(-((y(51)-y(31)*(1-y(35)))*params(3)*(-params(39))/(y(42)-params(39)*y(23))));
g1_v(15)=(-(params(7)/(1-y(26))*(-params(39))/(1-params(39))));
g1_v(16)=(-(y(31)*params(1)*(-params(39))/(y(40)-y(21)*params(39))));
g1_v(17)=(-(params(6)*y(36)*(-params(39))/(y(24)*(1-params(39)))+y(47)*params(1)*(-params(39))/(y(40)-y(21)*params(39))));
g1_v(18)=1;
g1_v(19)=y(26)*params(5);
g1_v(20)=(-y(26));
g1_v(21)=y(26);
g1_v(22)=(-(y(26)*(1+params(5)*(1-y(51)*T(4)))));
g1_v(23)=(-((y(21)-params(39)*y(2))/(1-params(39))*params(7)/((1-y(26))*(1-y(26)))));
g1_v(24)=(-(T(1)*getPowerDeriv(y(26),1-params(8),1)));
g1_v(25)=y(27)*params(5);
g1_v(26)=(-y(27));
g1_v(27)=y(27);
g1_v(28)=(-(y(27)*(1+params(5)*(1-y(51)*T(4)))));
g1_v(29)=y(30);
g1_v(30)=1;
g1_v(31)=1-y(31)*params(3)*(y(23)-params(39)*y(4))/(y(42)-params(39)*y(23));
g1_v(32)=(-(params(4)*y(47)/y(51)));
g1_v(33)=1;
g1_v(34)=y(28);
g1_v(35)=(-(T(4)*(-(params(8)*y(53)))/(y(25)*y(25))));
g1_v(36)=1;
g1_v(37)=y(28);
g1_v(38)=(-(params(6)*y(36)*(-((y(21)-params(39)*y(2))*(1-params(39))))/(y(24)*(1-params(39))*y(24)*(1-params(39)))));
g1_v(39)=(-(1-y(35)));
g1_v(40)=1;
g1_v(41)=(-(params(33)*1/y(34)/(params(28)/params(32))*T(5)));
g1_v(42)=params(37)/(2*params(28))*2*(y(30)-y(11))-1;
g1_v(43)=params(38)/params(28);
g1_v(44)=y(47)/y(51)*params(4)*params(37)/params(28);
g1_v(45)=1+params(38)/(2*params(28))*2*(y(30)-y(11));
g1_v(46)=(-(params(1)*(y(21)-params(39)*y(2))/(y(40)-y(21)*params(39))));
g1_v(47)=(-(params(3)*(y(23)-params(39)*y(4))/(y(42)-params(39)*y(23))*(-(1-y(35)))));
g1_v(48)=1;
g1_v(49)=1;
g1_v(50)=(-1);
g1_v(51)=1;
g1_v(52)=(-((params(8)*y(53)/y(25)+y(47)*(1-params(4)))*params(2)*(y(41)-params(39)*y(22)-(y(22)-params(39)*y(3))*(-params(39)))/((y(41)-params(39)*y(22))*(y(41)-params(39)*y(22)))));
g1_v(53)=(-(y(27)*y(26)*params(5)*(-(y(51)*params(2)*(y(41)-params(39)*y(22)-(y(22)-params(39)*y(3))*(-params(39)))/((y(41)-params(39)*y(22))*(y(41)-params(39)*y(22)))))));
g1_v(54)=(-((y(51)-y(31)*(1-y(35)))*params(3)*(y(42)-params(39)*y(23)-(y(23)-params(39)*y(4))*(-params(39)))/((y(42)-params(39)*y(23))*(y(42)-params(39)*y(23)))));
g1_v(55)=1;
g1_v(56)=(-(params(7)/(1-y(26))*1/(1-params(39))));
g1_v(57)=(-(y(31)*params(1)*(y(40)-y(21)*params(39)-(y(21)-params(39)*y(2))*(-params(39)))/((y(40)-y(21)*params(39))*(y(40)-y(21)*params(39)))));
g1_v(58)=1;
g1_v(59)=(-(params(6)*y(36)*1/(y(24)*(1-params(39)))+y(47)*params(1)*(y(40)-y(21)*params(39)-(y(21)-params(39)*y(2))*(-params(39)))/((y(40)-y(21)*params(39))*(y(40)-y(21)*params(39)))));
g1_v(60)=y(24)-y(5);
g1_v(61)=y(25)-y(6);
g1_v(62)=1;
g1_v(63)=1;
g1_v(64)=1;
g1_v(65)=(-(params(33)*T(5)*(-y(30))/(y(34)*y(34))/(params(28)/params(32))));
g1_v(66)=(-1);
g1_v(67)=1-params(8);
g1_v(68)=y(11);
g1_v(69)=(-y(11));
g1_v(70)=(-((params(8)*y(53)/y(25)+y(47)*(1-params(4)))*params(2)*(-(y(22)-params(39)*y(3)))/((y(41)-params(39)*y(22))*(y(41)-params(39)*y(22)))));
g1_v(71)=(-(y(27)*y(26)*params(5)*(-(y(51)*params(2)*(-(y(22)-params(39)*y(3)))/((y(41)-params(39)*y(22))*(y(41)-params(39)*y(22)))))));
g1_v(72)=(-((y(51)-y(31)*(1-y(35)))*params(3)*(-(y(23)-params(39)*y(4)))/((y(42)-params(39)*y(23))*(y(42)-params(39)*y(23)))));
g1_v(73)=(-(y(31)*params(1)*(-(y(21)-params(39)*y(2)))/((y(40)-y(21)*params(39))*(y(40)-y(21)*params(39)))));
g1_v(74)=(-(y(47)*params(1)*(-(y(21)-params(39)*y(2)))/((y(40)-y(21)*params(39))*(y(40)-y(21)*params(39)))));
g1_v(75)=(-(y(25)*params(4)*1/y(51)));
g1_v(76)=(-(params(1)*(y(21)-params(39)*y(2))/(y(40)-y(21)*params(39))));
g1_v(77)=(-(params(4)*1/y(51)+T(4)*(1-params(4))-(y(30)-y(11))*params(4)*params(37)/params(28)*1/y(51)));
g1_v(78)=(-(T(4)*params(8)/y(25)));
g1_v(79)=(-(y(25)*params(4)*(-y(47))/(y(51)*y(51))));
g1_v(80)=(-(params(3)*(y(23)-params(39)*y(4))/(y(42)-params(39)*y(23))));
g1_v(81)=(-(params(4)*(-y(47))/(y(51)*y(51))-(y(30)-y(11))*params(4)*params(37)/params(28)*(-y(47))/(y(51)*y(51))));
g1_v(82)=(-(y(27)*y(26)*params(5)*(-T(4))));
    if ~isoctave && matlab_ver_less_than('9.8')
        sparse_rowval = double(sparse_rowval);
        sparse_colval = double(sparse_colval);
    end
    g1 = sparse(sparse_rowval, sparse_colval, g1_v, 14, 42);
end
end
