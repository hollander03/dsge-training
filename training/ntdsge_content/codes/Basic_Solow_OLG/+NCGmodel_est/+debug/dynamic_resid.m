function [lhs, rhs] = dynamic_resid(y, x, params, steady_state)
T = NaN(16, 1);
lhs = NaN(4, 1);
rhs = NaN(4, 1);
T(1) = y(5)^params(5);
T(2) = (1-y(7))^(1-params(5));
T(3) = T(1)*T(2);
T(4) = T(3)^(1-params(6));
T(5) = y(9)^params(5);
T(6) = (1-y(11))^(1-params(5));
T(7) = T(5)*T(6);
T(8) = T(7)^(1-params(6));
T(9) = params(1)*T(8)/y(9);
T(10) = params(3)*exp(y(4))*y(2)^(params(3)-1);
T(11) = y(7)^(1-params(3));
T(12) = 1+T(10)*T(11)-params(2);
T(13) = exp(y(4))*(1-params(3))*params(5)/(1-params(5));
T(14) = y(2)^params(3);
T(15) = y(7)^(-params(3));
T(16) = (1-y(7))*T(13)*T(14)*T(15);
lhs(1) = T(4)/y(5);
rhs(1) = T(9)*T(12);
lhs(2) = y(5);
rhs(2) = T(16);
lhs(3) = y(6);
rhs(3) = (1-params(3))*y(7)*exp(y(4))*T(14)-y(5)+y(2)*(1-params(2));
lhs(4) = y(8);
rhs(4) = y(4)*params(4)+params(7)*x(1);
end
